{
    "id": "ExtBox1-ext-gen24846",
    "type": "controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "stores": [
            "ContactStore"
        ],
        "designer|userClassName": "Contacts"
    },
    "customConfigs": [],
    "designerId": "12f4e105-fe10-4110-a7c7-4be456e0092e",
    "$viewOrder": 0,
    "expanded": true,
    "cn": [
        {
            "id": "ExtBox1-ext-gen25027",
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "contactinfo",
                "selector": "contactinfo",
                "xtype": "contactinfo",
                "autoCreate": true,
                "designer|userClassName": "contactinfo"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen25200",
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "contactform",
                "selector": "contactform",
                "xtype": "contactform",
                "autoCreate": true,
                "designer|userClassName": "contactform"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen26386",
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "contactlist",
                "selector": "contactlist",
                "xtype": "contactlist",
                "autoCreate": true,
                "designer|userClassName": "contactlist"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen32770",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onAddContactBtnTap",
                "implHandler": [
                    "var referrer = Ext.Viewport.getActiveItem();",
                    "var form = this.getContactform();",
                    "form.setRecord(null);",
                    "form.reset();",
                    "form.referrer = referrer;",
                    "Ext.Viewport.setActiveItem(form);"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button#addContactBtn",
                "designer|userClassName": "onAddContactBtnTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen34079",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onSaveContactBtnTap",
                "implHandler": [
                    "var form = this.getContactform();",
                    "var errors = form.getValidationErrors();",
                    "",
                    "if (errors.length) {",
                    "    Ext.Msg.alert('Error', errors.join('<br/>'));",
                    "} else {",
                    "    var values = form.getValues();",
                    "    var record = form.getRecord();",
                    "    if (record) {",
                    "        record.setData(values);",
                    "        record.commit();",
                    "        if (form.referrer.setInfo) {",
                    "            form.referrer.setInfo(record);",
                    "        }",
                    "    } else {",
                    "        Ext.StoreManager.lookup('ContactStore').add(values);",
                    "    }",
                    "    Ext.Viewport.setActiveItem(form.referrer);",
                    "    delete form.referrer;",
                    "}",
                    ""
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button#saveContactBtn",
                "designer|userClassName": "onSaveContactBtnTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen43963",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onEditContactBtnTap",
                "implHandler": [
                    "var referrer = Ext.Viewport.getActiveItem();",
                    "var form = this.getContactform();",
                    "var info = this.getContactinfo();",
                    "form.referrer = referrer;",
                    "Ext.Viewport.setActiveItem(form);",
                    "form.setRecord(info.getRecord());"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button#editContactBtn",
                "designer|userClassName": "onEditContactBtnTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen47869",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onCancelBtnTap",
                "implHandler": [
                    "var form = this.getContactform();",
                    "Ext.Viewport.setActiveItem(form.referrer);",
                    "delete form.referrer;",
                    ""
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button#cancelBtn",
                "designer|userClassName": "onCancelBtnTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen49089",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onContactItemTap",
                "implHandler": [
                    "var info = this.getContactinfo();",
                    "info.setRecord(record);",
                    "Ext.Viewport.setActiveItem(info);",
                    ""
                ],
                "name": "itemtap",
                "designer|targetType": "Ext.dataview.DataView",
                "designer|controlQuery": "dataview",
                "designer|userClassName": "onContactItemTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen52208",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onInfoBackBtnTap",
                "implHandler": [
                    "Ext.Viewport.setActiveItem(0);"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button#infoBackBtn",
                "designer|userClassName": "onInfoBackBtnTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen70386",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onFavoriteViewActivate",
                "implHandler": [
                    "var ds = Ext.StoreManager.lookup('ContactStore');",
                    "ds.filter('isFavorite', true);"
                ],
                "name": "activate",
                "designer|targetType": "Ext.dataview.DataView",
                "designer|controlQuery": "favoriteview",
                "designer|userClassName": "onFavoriteViewActivate"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen71213",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onListActivate",
                "implHandler": [
                    "var ds = Ext.StoreManager.lookup('ContactStore');",
                    "ds.clearFilter();"
                ],
                "name": "activate",
                "designer|targetType": "Ext.dataview.List",
                "designer|controlQuery": "list",
                "designer|userClassName": "onListActivate"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen8904",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onContactPickerChange",
                "implHandler": [
                    "var currentForm = Ext.Viewport.getActiveItem();",
                    "var record = currentForm.getRecord();",
                    "if (record) {",
                    "    Ext.Msg.alert('pic', 'setting pic to ' + value);",
                    "    record.set('picture', value);",
                    "    record.commit();",
                    "    currentForm.setRecord(record);",
                    "}",
                    ""
                ],
                "name": "change",
                "designer|targetType": "Ext.picker.Picker",
                "designer|controlQuery": "contactpic",
                "designer|userClassName": "onContactPickerChange"
            },
            "customConfigs": [],
            "expanded": true
        }
    ]
}